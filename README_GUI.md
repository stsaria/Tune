# Tune GUI アプリケーション

TuneプロジェクトのGUI版です。P2Pネットワークのノード管理とメッセージング機能を提供します。

## 機能

- **ノード管理**: 自分のノードの開始/停止
- **接続ノード表示**: 現在接続しているノードの一覧表示
- **初期ノード追加**: 新しいノードをネットワークに追加
- **メッセージング**: メッセージの送信と受信
- **リアルタイム更新**: ノード情報とメッセージの自動更新

## 起動方法

### 方法1: 起動スクリプトを使用
```bash
python run_gui.py
```

### 方法2: 直接実行
```bash
python src/gui/app.py
```

## 使い方

### 1. ノードの開始
1. ノード名を入力（デフォルト: "MyNode"）
2. 「ノード開始」ボタンをクリック
3. 自動的にポートが割り当てられ、ノードが開始されます

### 2. 初期ノードの追加
1. ノードを開始した後、「IP:Port」フィールドに接続したいノードのアドレスを入力
   - 例: `127.0.0.1:8080`
2. 「追加」ボタンをクリック
3. 接続が成功すると、ノード一覧に表示されます

### 3. メッセージの送信
1. ノードを開始した後、「メッセージ」フィールドにメッセージを入力
2. 「送信」ボタンをクリック
3. メッセージがネットワークに送信され、メッセージ一覧に表示されます

### 4. 情報の確認
- **ノード情報**: 自分のノード名、ポート、IDが表示されます
- **接続ノード一覧**: 現在接続しているノードのIP:Port、名前、公開鍵が表示されます
- **メッセージ一覧**: 送受信されたメッセージの時刻、タイプ、内容、送信者が表示されます
- **ログ**: 操作履歴とエラーメッセージが表示されます

## 画面構成

```
┌─────────────────────────────────────────────────────────────┐
│ ノード名: [MyNode                    ]                      │
├─────────────────────────────────────────────────────────────┤
│ [ノード開始] [ノード停止]                                   │
├─────────────────────────────────────────────────────────────┤
│ 初期ノード追加                                               │
│ IP:Port: [127.0.0.1:8080              ] [追加]              │
├─────────────────────────────────────────────────────────────┤
│ ノード情報                                                   │
│ ノード名: MyNode | ポート: 12345 | ID: abc123...            │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ IP:Port        │ 名前    │ 公開鍵                       │ │
│ │ 127.0.0.1:8080 │ Node1   │ abc123def456...              │ │
│ └─────────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────────┤
│ メッセージ送信                                               │
│ メッセージ: [Hello World!                    ] [送信]       │
├─────────────────────────────────────────────────────────────┤
│ メッセージ一覧                                               │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ 時刻    │ タイプ │ 内容        │ 送信者                  │ │
│ │ 14:30:15│ ルート │ Hello World!│ 自分                    │ │
│ └─────────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────────┤
│ ログ                                                         │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ [14:30:10] ノード 'MyNode' を開始しました               │ │
│ │ [14:30:10] ポート: 12345                                 │ │
│ │ [14:30:15] メッセージを送信しました: Hello World!        │ │
│ └─────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘
```

## 注意事項

- ノードを開始する前に初期ノードを追加することはできません
- メッセージを送信する前にノードを開始する必要があります
- アプリケーションを終了する際は、自動的にノードが停止されます
- ネットワーク接続に問題がある場合は、ログにエラーメッセージが表示されます

## トラブルシューティング

### ノードが開始できない
- ポートが既に使用されている可能性があります
- ファイアウォールの設定を確認してください

### 初期ノードに接続できない
- 指定したIP:Portが正しいか確認してください
- 対象ノードが起動しているか確認してください
- ネットワーク接続を確認してください

### メッセージが送信できない
- ノードが開始されているか確認してください
- 接続ノードが存在するか確認してください 